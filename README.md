
# Проект: Система мониторинга контрактов и объектов ЖКХ

### Краткое описание проекта

Проект представляет собой единую платформу для Министерства ЖКХ и энергетики, предназначенную для консолидации и анализа разрозненной информации о государственных закупках и объектах капитального строительства и ремонта.

Система позволяет:
- **Автоматически собирать и систематизировать** информацию о заключённых контрактах по каждому объекту из Единой информационной системы (ЕИС) в сфере закупок.
- **Верифицировать данные**: с помощью нейросетевых моделей (GigaChat) находить контракты, которые могли быть неверно именованы муниципалитетами, но semantically являются искомыми.
- **Вести мониторинг**: вручную и автоматически вносить данные о ходе работ, включая уровни технической готовности и прикреплять фотографии с объектов.

**Примечание (Важная особенность):**
После общения с заказчиком была реализована дополнительная функция проверки в разделе закупок. Если контракт не находится по точному названию объекта, система с применением GigaChat (через векторное представление и семантический поиск) производит поиск похожих по смыслу закупок. Это позволяет находить контракты, которые на уровне муниципалитета были неверно именованы и чьи названия разнятся с эталонными данными из системы КАСИБ.

---

### Архитектура приложения

Проект разделен на следующие микросервисы:

```
+-----------------------------------------------------------------------+
|                                                                       |
|  +-------------+    REST API     +-------------------+                |
|  |             |<--------------->|                   |    +-------+   |
|  |   Frontend  |                 |     Backend       |<-->| Redis |   |
|  | (React App) |    WebSocket    | (FastAPI)         |    +-------+   |
|  |             |<--------------->|                   |                |
|  +-------------+                 +-------------------+                |
|                                          ^                           |
|                                          | ORM (SQLAlchemy)          |
|                                          v                           |
|                                    +-------------+                   |
|                                    |  Database   |                   |
|                                    |  (Postgres) |                   |
|                                    +-------------+                   |
|                                                                       |
|                                                                       |
|  +-------------------+                                                |
|  |                   |        +-----------------------------------+   |
|  |    Injector       |<------>|            GigaChat API           |   |
|  |   (FastAPI)       |        |                                   |   |
|  |                   |        +-----------------------------------+   |
|  +-------------------+                                                |
|       ^                                                                |
|       | HTTP Requests                                                  |
|       v                                                                |
|  +-----------------------------------+                                 |
|  |        EIS Zakupki.gov.ru         |                                 |
|  |   (Парсинг реестра контрактов)    |                                 |
|  +-----------------------------------+                                 |
+-----------------------------------------------------------------------+
```

**Описание компонентов:**

1.  **Бекенд (Backend)**: Микросервис на FastAPI.
    - Ядро системы, предоставляет REST API для фронтенда.
    - Работает с базой данных **PostgreSQL** через ORM SQLAlchemy (хранение моделей контрактов, пользователей, объектов и т.д.).
    - Реализует **авторизацию и аутентификацию** (JWT) для разграничения прав доступа между пользователями Министерства ЖКХ Воронежской области и муниципалитетами.
    - Использует **Redis** в качестве брокера сообщений (очереди задач) и для кэширования.

2.  **Фронтенд (Frontend)**: Single-Page Application на **React**.
    - Пользовательский интерфейс для работы с карточками контрактов и объектов.
    - Отображение таблиц, форм для ввода данных, дашбордов и аналитических диаграмм.

3.  **Инжектор (Injector)**: Отдельный микросервис на FastAPI.
    - Ответственен за фоновые и периодические задачи.
    - **Парсинг данных**: автоматически собирает данные о контрактах с сайта `zakupki.gov.ru` (раздел "Реестр контрактов").
    - **Интеграция с GigaChat**: обращается к AI-модели для семантического поиска контрактов по названию, если точный поиск не дал результатов.

---

### Запуск проекта

Для запуска всей инфраструктуры проекта (бекенд, фронтенд, базы данных) используется Docker Compose.

1.  **Клонируйте репозиторий** проекта на ваш сервер или рабочую машину.

2.  **Запуск всех сервисов (Бекенд + Фронтенд + Базы данных):**
    Из корневой директории проекта выполните команду:
    ```bash
    docker-compose up --build -d
    ```
    Флаг `-d` запустит контейнеры в фоновом режиме.

3.  **Запуск только фронтенда (для разработки, опционально):**
    Если необходимо запустить фронтенд отдельно (например, для разработки с hot-reload):
    ```bash
    cd gen-ai-main/frontend
    docker-compose up --build
    ```
    Или соберите и запустите образ фронтенда напрямую:
    ```bash
    docker build -t my-react-app .
    docker run -p 8080:80 my-react-app
    ```
    После этого фронтенд будет доступен по адресу: `http://localhost:8080`

**После успешного запуска:**
- Бекенд-API будет доступно по своему порту (указанному в `docker-compose.yml`, например, `http://localhost:8000`).
- Фронтенд-приложение будет доступно по порту `80` внутри Docker-сети и проброшено на `localhost` (чаще всего на `http://localhost:80` или `http://localhost:8080`, в зависимости от конфигурации).
- Документация к API (Swagger/ReDoc) будет доступна по адресу `http://localhost:8000/docs`.
